<script>

let selectedNetwork="";
let selectedPlan="";
let orderMessage="";

const allBundles = {
MTN:[
["1GB","4.8gh"],["2GB","9.5gh"],["3GB","13.5gh"],
["4GB","18gh"],["5GB","23.5gh"],["6GB","26.5gh"],
["7GB","30.5gh"],["8GB","35gh"],["9GB","37.5gh"],
["10GB","42gh"],["12GB","50.5gh"],["15GB","60.5gh"],
["20GB","70gh"],["25GB","99gh"],["30GB","120gh"],
["40GB","155gh"],["50GB","195gh"]
],
Telecel:[
["10GB","40gh"],["15GB","58gh"],["20GB","79gh"],
["25GB","99gh"],["30GB","115gh"],["35GB","135gh"],
["40GB","152gh"],["45GB","172gh"],["50GB","200gh"]
],
AT:[
["20GB","64gh"],["30GB","73gh"],["40GB","85gh"],
["50GB","96gh"],["60GB","137gh"],
["80GB","172gh"],["100GB","202gh"],["200GB","360gh"]
]
};

function showNetwork(){
home.classList.add("hidden");
networkPage.classList.remove("hidden");
}

function goHome(){
home.classList.remove("hidden");
networkPage.classList.add("hidden");
bundlesPage.classList.add("hidden");
orderPage.classList.add("hidden");
successPage.classList.add("hidden");
}

function loadBundles(network){
selectedNetwork=network;
networkPage.classList.add("hidden");
bundlesPage.classList.remove("hidden");
bundleList.innerHTML="";

allBundles[network].forEach(b=>{

let badge="";

if(network==="MTN"){

let size=parseInt(b[0]);

if(size>=1 && size<=5){
badge=` <span style="background:red;color:white;padding:3px 6px;border-radius:6px;font-size:11px;">HOT DEAL</span>`;
}

if(size>=10){
badge=` <span style="background:gold;color:black;padding:3px 6px;border-radius:6px;font-size:11px;">PREMIUM</span>`;
}

}

bundleList.innerHTML+=`
<div class="bundle-btn" onclick="selectPlan('${b[0]}','${b[1]}')">
<h3>Buy ${b[0]} = ${b[1]} ${badge}</h3>
<small>*No Expiry*</small>
</div>`;
});
}

function backToNetwork(){
bundlesPage.classList.add("hidden");
networkPage.classList.remove("hidden");
}

function selectPlan(size,price){
selectedPlan=size+" = "+price;
bundlesPage.classList.add("hidden");
orderPage.classList.remove("hidden");
document.getElementById("selectedPlan").innerText=
"Selected Plan: "+selectedPlan+" | Network: "+selectedNetwork;
}

function backToBundles(){
orderPage.classList.add("hidden");
bundlesPage.classList.remove("hidden");
}

function placeOrder(){

let name=document.getElementById("name").value.trim();
let phone=document.getElementById("phone").value.trim();

if(name==="" || phone===""){
alert("Please enter your name and phone number.");
return;
}

let orderID="BDC-"+Math.floor(10000+Math.random()*90000);

orderMessage=`Order ID: ${orderID}%0A
Name: ${name}%0A
Phone: ${phone}%0A
Network: ${selectedNetwork}%0A
Plan: ${selectedPlan}`;

document.getElementById("orderID").innerText="Your Order ID: "+orderID;

orderPage.classList.add("hidden");
successPage.classList.remove("hidden");
}

function sendSMS(){
window.location.href=`sms:0542021230?body=${orderMessage}`;
}

function sendWhatsApp(){
window.location.href=`https://wa.me/233542021230?text=${orderMessage}`;
}

</script>
